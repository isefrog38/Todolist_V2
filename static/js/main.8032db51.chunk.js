(this.webpackJsonpTodolist_V2=this.webpackJsonpTodolist_V2||[]).push([[0],{107:function(t,e,a){},114:function(t,e,a){t.exports={add_item_form_main_block:"AddItemForm_add_item_form_main_block__gk74B"}},116:function(t,e,a){t.exports={is_done:"Task_is_done__3JDJx"}},118:function(t,e,a){t.exports={buttons_block:"Buttons_buttons_block__av5UJ"}},137:function(t,e,a){},166:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(39),i=a.n(s),c=(a(137),a(21)),o=a(16),d=a(15),l=a(22),u=Object(l.d)({name:"TodolistSlice",initialState:[],reducers:{},extraReducers:function(t){t.addCase(b,(function(t,e){return e.payload.todolists.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{entityStatus:"idle",filter:"All"})}))})),t.addCase(j,(function(t,e){return t.filter((function(t){return t.id!==e.payload.todolistId}))})),t.addCase(p,(function(t,e){return[{id:e.payload.todolistId,title:e.payload.title,entityStatus:"idle",filter:"All",addedDate:"",order:0}].concat(Object(d.a)(t))})),t.addCase(f,(function(t,e){return t.map((function(t){return t.id===e.payload.todolistId?Object(o.a)(Object(o.a)({},t),{},{title:e.payload.title}):t}))})),t.addCase(O,(function(t,e){return t.map((function(t){return t.id===e.payload.todolistId?Object(o.a)(Object(o.a)({},t),{},{filter:e.payload.filter}):t}))})),t.addCase(m,(function(t,e){return t.map((function(t){return t.id===e.payload.todolistId?Object(o.a)(Object(o.a)({},t),{},{entityStatus:e.payload.entityStatus}):t}))}))}}).reducer,b=Object(l.b)("SET_TODOLISTS"),j=Object(l.b)("REMOVE_TODOLIST"),p=Object(l.b)("ADD_TODOLIST"),f=Object(l.b)("CHANGE_TODOLIST_TITLE"),O=Object(l.b)("CHANGE_TODOLIST_FILTER"),m=Object(l.b)("CHANGE_TODOLIST_ENTITY_STATUS"),h=Object(l.d)({name:"TaskSlice",initialState:{},reducers:{setTasksAC:function(t,e){t[e.payload.todolistId]=e.payload.tasks},removeTaskAC:function(t,e){t[e.payload.todolistId]=t[e.payload.todolistId].filter((function(t){return t.id!==e.payload.taskId}))},addTaskAC:function(t,e){t[e.payload.todolistId]=[e.payload.task].concat(Object(d.a)(t[e.payload.todolistId]))},updateTaskAC:function(t,e){t[e.payload.todolistId]=t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(o.a)(Object(o.a)({},t),e.payload.model):t}))},changeTaskEntityStatusAC:function(t,e){t[e.payload.todolistId]=t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(o.a)(Object(o.a)({},t),{},{entityTaskStatus:e.payload.entityStatus}):t}))}},extraReducers:function(t){t.addCase(b,(function(t,e){return e.payload.todolists.forEach((function(e){return t[e.id]=[]}))})),t.addCase(j,(function(t,e){var a=t;return delete a[e.payload.todolistId],a})),t.addCase(p,(function(t,e){t[e.payload.todolistId]=[]}))}}),x=h.reducer,_=h.actions,k=_.removeTaskAC,g=_.addTaskAC,v=_.changeTaskEntityStatusAC,y=_.updateTaskAC,I=_.setTasksAC,S=a(109),C=a(61),w=Object(l.d)({name:"AuthSlice",initialState:{id:null,login:null,email:null,isAuth:!1},reducers:{},extraReducers:function(t){t.addCase(T,(function(t,e){return e.payload}))}}).reducer,T=Object(l.b)("AUTH_ME"),A=Object(l.d)({name:"AppSlice",initialState:{status:"succeeded",error:null,isFetching:!0},reducers:{setAppStatusAC:function(t,e){t.status=e.payload.status},setAppErrorMessageAC:function(t,e){t.error=e.payload.error},setIsFetchingAC:function(t,e){t.isFetching=e.payload.isFetching}}}),E=A.reducer,N=A.actions,R=N.setIsFetchingAC,L=N.setAppStatusAC,F=N.setAppErrorMessageAC,D=(Object(S.a)({tasksReducer:x,todolistsReducer:u,AuthorizationReducer:w,AppReducer:E}),Object(l.a)({reducer:{AuthorizationReducer:w,todolistsReducer:u,AppReducer:E,tasksReducer:x},middleware:function(t){return t().prepend(C.a)}})),M=c.c;window.store=D;var P=a(18),z=a.n(P),H=a(29),B=function(t,e){t.messages.length?e(F({error:t.messages[0]})):e(F({error:"Some error occurred"})),e(L({status:"failed"}))},U=function(t,e){e(F({error:t.message})),e(L({status:"failed"}))},G=a(68),V=a.n(G),J=V.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"46d03c13-5122-4b12-95a1-e807d8a6bece"}}),K=function(){return J.get("auth/me").then((function(t){return t.data}))},Y=function(){return J.delete("auth/login/").then((function(t){return t.data}))},q=function(t,e,a,n){return J.post("auth/login/",{email:t,password:e,rememberMe:a,captcha:n}).then((function(t){return t.data}))},X=Object(l.c)("Auth/meTC",function(){var t=Object(H.a)(z.a.mark((function t(e,a){var n,r,s,i,c,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=a.dispatch)(R({isFetching:!0})),t.prev=2,t.next=5,K();case 5:0===(r=t.sent).resultCode&&(s=r.data,i=s.login,c=s.email,o=s.id,n(T({id:o,email:c,login:i,isAuth:!0}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0 instanceof Error&&U(t.t0,n);case 12:return t.prev=12,n(R({isFetching:!1})),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(e,a){return t.apply(this,arguments)}}()),Z=a(33),W=a.n(Z),Q=a(119),$=a(14),tt=a(1);var et,at,nt,rt=(et=function(t){var e=Object(c.b)(),a=Object(Q.a)({initialValues:{email:"",password:"",rememberMe:!1,captcha:!0},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Field is required",t.password?t.password.length<4&&(e.password="Invalid password"):e.password="Password is required",e},onSubmit:function(t){e(function(t){return function(){var e=Object(H.a)(z.a.mark((function e(a){var n,r,s,i,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(R({isFetching:!0})),e.prev=1,e.next=4,q(t.email,t.password,t.rememberMe,t.captcha);case 4:return n=e.sent,e.next=7,K();case 7:r=e.sent,0===n.resultCode?(s=r.data,i=s.login,c=s.email,o=s.id,a(T({id:o,email:c,login:i,isAuth:!0}))):B(n,a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error&&U(e.t0,a);case 14:return e.prev=14,a(R({isFetching:!1})),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()}(t)),a.resetForm()}}),n=a.values.password,r=[["\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",n.toLowerCase()!==n],["\u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",n.toUpperCase()!==n],["\u0446\u0438\u0444\u0440\u0443",/\d/.test(n)],["5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",n.length>=4]];return Object(tt.jsx)("div",{className:W.a.main_login,children:Object(tt.jsxs)("form",{className:W.a.form_3,onSubmit:a.handleSubmit,children:[Object(tt.jsx)("h1",{style:{color:"white"},children:"Account login"}),Object(tt.jsxs)("p",{className:W.a.clearfix,children:[Object(tt.jsx)("label",{htmlFor:"email",children:"Email"}),Object(tt.jsx)("input",Object(o.a)({type:"email",id:"email",placeholder:"email"},a.getFieldProps("email"))),Object(tt.jsx)("div",{className:W.a.error_block,children:a.touched.email&&a.errors.email?Object(tt.jsx)("div",{style:{color:"red",fontSize:"1.2rem"},children:a.errors.email}):null})]}),Object(tt.jsxs)("p",{className:W.a.clearfix,children:[Object(tt.jsx)("label",{htmlFor:"password",children:"Password"}),Object(tt.jsx)("input",Object(o.a)({type:"password",id:"password",placeholder:"password"},a.getFieldProps("password"))),Object(tt.jsx)("div",{className:W.a.error_block,children:a.touched.password&&a.errors.password?Object(tt.jsx)("div",{style:{color:"red",fontSize:"1.2rem"},children:a.errors.password}):null}),a.values.password?Object(tt.jsxs)("div",{className:W.a.text_helper,children:[Object(tt.jsx)("div",{className:W.a.angle}),Object(tt.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c:"}),Object(tt.jsx)("div",{className:W.a.text_helper_small_text,children:r.map((function(t){return Object(tt.jsx)(st,{data:t},t)}))})]}):null]}),Object(tt.jsxs)("p",{className:W.a.clearfix,children:[Object(tt.jsx)("input",Object(o.a)({style:{width:"50px",height:"50px"},type:"checkbox",id:"remember"},a.getFieldProps("rememberMe"))),Object(tt.jsx)("label",{htmlFor:"remember",className:W.a.label_rememberMe_block,children:"Remember me"}),Object(tt.jsx)("button",{className:W.a.button,type:"submit",name:"submit",value:"Submit",disabled:!(a.isValid&&a.dirty),children:"Submit"})]})]})})},function(t){return Object(c.c)((function(t){return t.AuthorizationReducer.isAuth}))?Object(tt.jsx)($.a,{to:"/app"}):Object(tt.jsx)(et,Object(o.a)({},t))}),st=function(t){var e=t.data,a=e[0],n=e[1];return Object(tt.jsx)("span",{style:{fontSize:"1rem"},children:Object(tt.jsxs)("div",{className:"validateChecklist",children:[Object(tt.jsx)("span",{children:a}),Object(tt.jsx)("div",{className:function(){var t=["invalidStyle"];return n&&t.push("validStyle"),t.join(" ")}()})]})})},it=a(89),ct=a.n(it),ot=a(218),dt=a(216),lt=function(t){var e=t.typeError,a=Object(c.c)((function(t){return t.AppReducer})).error,n=Object(c.b)(),r=function(t,e){"clickaway"!==e&&n(F({error:null}))};return Object(tt.jsx)(ot.a,{open:null!==a,autoHideDuration:6e3,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(tt.jsxs)(ut,{onClose:r,severity:e,sx:{width:"100%"},children:[a," \ud83d\ude20"]})})},ut=r.a.forwardRef((function(t,e){return Object(tt.jsx)(dt.a,Object(o.a)({elevation:6,ref:e,variant:"filled"},t))})),bt=function(){return Object(tt.jsx)("div",{className:ct.a.background_block_login_page,children:Object(tt.jsxs)("div",{className:ct.a.block_login_page,children:[Object(tt.jsx)(rt,{}),Object(tt.jsx)(lt,{typeError:"error"})]})})},jt=(a(107),a(220)),pt=a(221),ft=V.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"46d03c13-5122-4b12-95a1-e807d8a6bece"}}),Ot=function(){return ft.get("todo-lists")},mt=function(t){return ft.post("todo-lists",{title:t})},ht=function(t){return ft.delete("todo-lists/".concat(t))},xt=function(t,e){return ft.put("todo-lists/".concat(t),{title:e})},_t=function(t){return ft.get("todo-lists/".concat(t,"/tasks"))},kt=function(t,e){return ft.delete("todo-lists/".concat(t,"/tasks/").concat(e))},gt=function(t,e){return ft.post("todo-lists/".concat(t,"/tasks"),{title:e})},vt=function(t,e,a){return ft.put("todo-lists/".concat(t,"/tasks/").concat(e),a)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(at||(at={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(nt||(nt={}));var yt=a(225),It=a(226),St=function(){return Object(tt.jsx)(yt.a,{sx:{width:"100%"},children:Object(tt.jsx)(It.a,{color:"secondary"})})},Ct=a(224),wt=a(13),Tt=a(114),At=a.n(Tt),Et=a(214),Nt=a(222),Rt=a(115),Lt=a.n(Rt),Ft=r.a.memo((function(t){var e=t.disabled,a=t.addItem,r=t.color,s=Object(n.useState)(""),i=Object(wt.a)(s,2),c=i[0],o=i[1],d=Object(n.useState)(null),l=Object(wt.a)(d,2),u=l[0],b=l[1],j=function(){""!==c.trim()?(a(c),o("")):b("Title is required")};return Object(tt.jsxs)("div",{className:At.a.add_item_form_main_block,children:[Object(tt.jsx)(Et.a,{style:{margin:"10px",width:"100%"},disabled:e,variant:"outlined",error:!!u,value:c,color:r,onChange:function(t){o(t.currentTarget.value)},onKeyPress:function(t){null!==u&&b(null),"Enter"===t.key&&j()},label:"Title",helperText:u}),Object(tt.jsx)(Nt.a,{color:"inherit",size:"large",onClick:j,disabled:e,children:Object(tt.jsx)(Lt.a,{style:{width:"30px",height:"30px"},color:"inherit"})})]})})),Dt=a(227),Mt=a(228),Pt=a(223),zt=function(t){var e=t.status,a=t.login,n=t.onClickHandler,r=t.addTodolist;return Object(tt.jsx)(Pt.a,{position:"fixed",color:"secondary",style:{height:"100px"},children:Object(tt.jsxs)(Ct.a,{children:[Object(tt.jsx)("div",{className:"AddItem",children:Object(tt.jsx)(Ft,{addItem:r,color:"info",disabled:"loading"===e&&!0})}),Object(tt.jsx)(Dt.a,{variant:"h6",component:"div",sx:{flexGrow:1},className:"global_todo_title",children:"Todolist for your business"}),Object(tt.jsx)("h3",{className:"Login_name",children:a}),Object(tt.jsx)(Mt.a,{onClick:n,color:"error",variant:"contained",children:"LogOut"})]})})},Ht=a(79),Bt=a.n(Ht),Ut=r.a.memo((function(t){var e=t.value,a=t.onChange,r=t.disabled,s=Object(n.useState)(!1),i=Object(wt.a)(s,2),c=i[0],o=i[1],d=Object(n.useState)(e),l=Object(wt.a)(d,2),u=l[0],b=l[1],j=function(){o(!1),a(u)};return c?Object(tt.jsx)(Et.a,{disabled:r,onKeyPress:function(t){"Enter"===t.key&&j()},value:u,onChange:function(t){b(t.currentTarget.value)},autoFocus:!0,onBlur:j,variant:"standard"}):Object(tt.jsx)("span",{onDoubleClick:function(){o(!0),b(e)},children:e})})),Gt=a(213),Vt=a(116),Jt=a.n(Vt),Kt=a(217),Yt=a(75),qt=r.a.memo((function(t){var e=Object(n.useCallback)((function(){return t.removeTask(t.task.id,t.todolistId)}),[t.task.id,t.todolistId]),a=Object(n.useCallback)((function(e){var a=e.currentTarget.checked;t.changeTaskStatus(t.task.id,a?at.Completed:at.New,t.todolistId)}),[t.task.id,t.todolistId]),r=Object(n.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.task.id,t.todolistId]),s="loading"===t.task.entityTaskStatus;return Object(tt.jsx)(Yt.a,{cascade:!0,children:Object(tt.jsxs)("div",{className:t.task.status===at.Completed?Jt.a.is_done:"",children:[Object(tt.jsx)(Kt.a,{checked:t.task.status===at.Completed,color:"secondary",onChange:a}),Object(tt.jsx)(Ut,{disabled:s,value:t.task.title,onChange:r}),Object(tt.jsx)(Nt.a,{onClick:e,disabled:s,children:Object(tt.jsx)(Gt.a,{})})]})})})),Xt=a(118),Zt=a.n(Xt),Wt=function(t){var e=t.title,a=t.onClickHandler,n=t.activeButton;return Object(tt.jsx)(Mt.a,{color:"secondary",variant:n===e?"contained":"outlined",onClick:a,children:e})},Qt=function(t){var e=t.filterBS,a=t.todolistId,r=Object(c.b)(),s=Object(n.useCallback)((function(){return r(O({todolistId:a,filter:"All"}))}),[r,a]),i=Object(n.useCallback)((function(){return r(O({todolistId:a,filter:"Active"}))}),[r,a]),o=Object(n.useCallback)((function(){return r(O({todolistId:a,filter:"Completed"}))}),[r,a]);return Object(tt.jsxs)("div",{className:Zt.a.buttons_block,children:[Object(tt.jsx)(Wt,{activeButton:e,onClickHandler:s,title:"All"}),Object(tt.jsx)(Wt,{activeButton:e,onClickHandler:i,title:"Active"}),Object(tt.jsx)(Wt,{activeButton:e,onClickHandler:o,title:"Completed"})]})},$t=function(t,e,a){return function(){var n=Object(H.a)(z.a.mark((function n(r,s){var i,c,d,l,u;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(v({todolistId:t,taskId:e,entityStatus:"loading"})),r(L({status:"loading"})),i=s().tasksReducer,c=i[t],!(d=c.find((function(t){return t.id===e})))){n.next=17;break}return l=Object(o.a)({title:d.title,startDate:d.startDate,priority:d.priority,description:d.description,deadline:d.deadline,status:d.status},a),n.prev=7,n.next=10,vt(t,e,l);case 10:0===(u=n.sent).data.resultCode?(r(y({taskId:e,todolistId:t,model:u.data.data.item})),r(L({status:"succeeded"})),r(v({todolistId:t,taskId:e,entityStatus:"succeeded"}))):(B(u.data,r),r(v({todolistId:t,taskId:e,entityStatus:"failed"}))),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),n.t0 instanceof Error&&(U(n.t0,r),r(v({todolistId:t,taskId:e,entityStatus:"failed"})));case 17:case"end":return n.stop()}}),n,null,[[7,14]])})));return function(t,e){return n.apply(this,arguments)}}()},te=Object(n.memo)((function(t){var e=Object(c.b)();Object(n.useEffect)((function(){var a;e((a=t.id,function(){var t=Object(H.a)(z.a.mark((function t(e){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(L({status:"loading"})),t.prev=1,t.next=4,_t(a);case 4:null===(n=t.sent).data.error&&(r=n.data.items.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{entityTaskStatus:"idle"})})),e(I({tasks:r,todolistId:a})),e(L({status:"succeeded"}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0 instanceof Error&&U(t.t0,e);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[]);var a=t.tasks;"Active"===t.filter&&(a=t.tasks.filter((function(t){return t.status===at.New}))),"Completed"===t.filter&&(a=t.tasks.filter((function(t){return t.status===at.Completed})));var r=Object(n.useCallback)((function(){var a;e((a=t.id,function(){var t=Object(H.a)(z.a.mark((function t(e){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(m({todolistId:a,entityStatus:"loading"})),e(L({status:"loading"})),t.prev=2,t.next=5,ht(a);case 5:0===(n=t.sent).data.resultCode?(e(j({todolistId:a})),e(L({status:"succeeded"})),e(m({todolistId:a,entityStatus:"succeeded"}))):(B(n.data,e),e(m({todolistId:a,entityStatus:"failed"}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0 instanceof Error&&(U(t.t0,e),e(m({todolistId:a,entityStatus:"failed"})));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[e,t.id]),s=Object(n.useCallback)((function(a){e(function(t,e){return function(){var a=Object(H.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(L({status:"loading"})),n(m({todolistId:t,entityStatus:"loading"})),a.prev=2,a.next=5,xt(t,e);case 5:0===(r=a.sent).data.resultCode?(n(f({todolistId:t,title:e})),n(L({status:"succeeded"})),n(m({todolistId:t,entityStatus:"succeeded"}))):(B(r.data,n),n(m({todolistId:t,entityStatus:"failed"}))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),a.t0 instanceof Error&&(U(a.t0,n),n(m({todolistId:t,entityStatus:"failed"})));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}()}(t.id,a))}),[e,t.id]),i=Object(n.useCallback)((function(t,a){e(function(t,e){return function(){var a=Object(H.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(L({status:"loading"})),n(v({todolistId:t,taskId:e,entityStatus:"loading"})),a.prev=2,a.next=5,kt(t,e);case 5:0===(r=a.sent).data.resultCode?(n(k({taskId:e,todolistId:t})),n(L({status:"succeeded"})),n(v({todolistId:t,taskId:e,entityStatus:"succeeded"}))):(B(r.data,n),n(v({todolistId:t,taskId:e,entityStatus:"failed"}))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),a.t0 instanceof Error&&(U(a.t0,n),n(v({todolistId:t,taskId:e,entityStatus:"failed"})));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}()}(a,t))}),[e]),d=Object(n.useCallback)((function(a){e(function(t,e){return function(){var a=Object(H.a)(z.a.mark((function a(n){var r,s;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(m({todolistId:t,entityStatus:"loading"})),n(L({status:"loading"})),a.prev=2,a.next=5,gt(t,e);case 5:0===(r=a.sent).data.resultCode?(s=Object(o.a)(Object(o.a)({},r.data.data.item),{},{entityTaskStatus:"idle"}),n(g({todolistId:t,task:s})),n(L({status:"succeeded"})),n(m({todolistId:t,entityStatus:"succeeded"}))):(B(r.data,n),n(m({todolistId:t,entityStatus:"failed"}))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),a.t0 instanceof Error&&(U(a.t0,n),n(m({todolistId:t,entityStatus:"failed"})));case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}()}(t.id,a))}),[e,t.id]),l=Object(n.useCallback)((function(t,a,n){e($t(n,t,{status:a}))}),[e]),u=Object(n.useCallback)((function(t,a,n){e($t(n,t,{title:a}))}),[e]);return Object(tt.jsxs)("div",{className:Bt.a.main_paper_div,children:[Object(tt.jsxs)("h3",{className:Bt.a.block_name_and_delete,children:[Object(tt.jsx)(Ut,{disabled:"loading"===t.entityStatus,value:t.title,onChange:s}),Object(tt.jsx)(Nt.a,{size:"large",onClick:r,disabled:"loading"===t.entityStatus,children:Object(tt.jsx)(Gt.a,{})})]}),Object(tt.jsx)(Ft,{addItem:d,color:"secondary",disabled:"loading"===t.entityStatus}),Object(tt.jsx)("div",{className:Bt.a.tasks_block,children:a.map((function(e){return Object(tt.jsx)(qt,{task:e,todolistId:t.id,removeTask:i,changeTaskTitle:u,changeTaskStatus:l},e.id)}))}),Object(tt.jsx)(Qt,{todolistId:t.id,filterBS:t.filter})]})})),ee=function(t){return function(e){return Object(c.c)((function(t){return t.AuthorizationReducer.isAuth}))?Object(tt.jsx)(t,Object(o.a)({},e)):Object(tt.jsx)($.a,{to:"/login"})}}((function(){var t=M((function(t){return t.todolistsReducer})),e=M((function(t){return t.tasksReducer})),a=M((function(t){return t.AuthorizationReducer})).login,r=M((function(t){return t.AppReducer})).status,s=Object(c.b)();Object(n.useEffect)((function(){s(function(){var t=Object(H.a)(z.a.mark((function t(e){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(L({status:"loading"})),t.prev=1,t.next=4,Ot();case 4:200===(a=t.sent).status&&(e(b({todolists:a.data})),e(L({status:"succeeded"}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0 instanceof Error&&U(t.t0,e);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var i=Object(n.useCallback)((function(t){s(function(t){return function(){var e=Object(H.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(L({status:"loading"})),e.prev=1,e.next=4,mt(t);case 4:0===(n=e.sent).data.resultCode?(a(p({title:t,todolistId:n.data.data.item.id})),a(L({status:"succeeded"}))):B(n.data,a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&U(e.t0,a);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[s]);return Object(tt.jsxs)(tt.Fragment,{children:[Object(tt.jsx)(zt,{login:a,addTodolist:i,onClickHandler:function(){return s(function(){var t=Object(H.a)(z.a.mark((function t(e){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:0===t.sent.resultCode&&e(T({id:null,email:null,login:null,isAuth:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},status:r}),Object(tt.jsxs)("div",{className:"App",children:[Object(tt.jsx)("div",{className:"progress_bar_padding",children:"loading"===r&&Object(tt.jsx)(St,{})}),Object(tt.jsx)(lt,{typeError:"error"}),Object(tt.jsx)("div",{className:"MainContainer",children:Object(tt.jsx)(jt.a,{container:!0,style:{width:"100%",padding:"20px"},children:Object(tt.jsx)(jt.a,{container:!0,spacing:7,children:t.map((function(t){var a=e[t.id];return Object(tt.jsx)(jt.a,{item:!0,children:Object(tt.jsx)(pt.a,{elevation:3,style:{padding:"20px",borderRadius:"10px",backgroundColor:"#ffffffa6"},children:Object(tt.jsx)(Yt.a,{cascade:!0,children:Object(tt.jsx)(te,{id:t.id,title:t.title,tasks:a,filter:t.filter,entityStatus:t.entityStatus})})})},t.id)}))})})})]})]})})),ae=a(93),ne=a.n(ae),re=function(){return Object(tt.jsx)("div",{className:ne.a.main_loading,children:Object(tt.jsxs)("div",{className:ne.a.loader,children:[Object(tt.jsx)("span",{}),Object(tt.jsx)("span",{}),Object(tt.jsx)("span",{}),Object(tt.jsx)("span",{})]})})},se=function(){var t=M((function(t){return t.AppReducer})).isFetching,e=Object(c.b)();return Object(n.useEffect)((function(){e(X())}),[]),t?Object(tt.jsx)(re,{}):Object(tt.jsx)(tt.Fragment,{children:Object(tt.jsxs)($.d,{children:[Object(tt.jsx)($.b,{path:"/",element:Object(tt.jsx)($.a,{to:"/app"})}),Object(tt.jsx)($.b,{path:"*",element:Object(tt.jsx)($.a,{to:"/404"})}),Object(tt.jsx)($.b,{path:"/login",element:Object(tt.jsx)(bt,{})}),Object(tt.jsx)($.b,{path:"/app",element:Object(tt.jsx)(ee,{})}),Object(tt.jsx)($.b,{path:"/404",element:Object(tt.jsx)("h1",{children:"404 Page not found"})})]})})},ie=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,229)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),s(t),i(t)}))},ce=a(66);i.a.render(Object(tt.jsx)(r.a.StrictMode,{children:Object(tt.jsx)(ce.a,{children:Object(tt.jsx)(c.a,{store:D,children:Object(tt.jsx)(se,{})})})}),document.getElementById("root")),ie()},33:function(t,e,a){t.exports={form_3:"SignIn_form_3__2SSkU",button:"SignIn_button__3DwEz",label_rememberMe_block:"SignIn_label_rememberMe_block__lLv1A",clearfix:"SignIn_clearfix__2yBzH",register:"SignIn_register__XS3YG",text_helper:"SignIn_text_helper__wRuGl",angle:"SignIn_angle__1tSts",text_helper_small_text:"SignIn_text_helper_small_text__31epX",error_block:"SignIn_error_block__3QK1B",main_login:"SignIn_main_login__23Wdz"}},79:function(t,e,a){t.exports={main_paper_div:"Todolist_main_paper_div__1EygI",block_name_and_delete:"Todolist_block_name_and_delete__a3zMX",add_item_form:"Todolist_add_item_form__kUhT1",tasks_block:"Todolist_tasks_block__2US_o"}},89:function(t,e,a){t.exports={background_block_login_page:"LoginPage_background_block_login_page__39MEE",block_login_page:"LoginPage_block_login_page__1-jxa"}},93:function(t,e,a){t.exports={main_loading:"Loading_main_loading__erV71",loader:"Loading_loader__1A0mq","span-1":"Loading_span-1__3G6uj","span-2":"Loading_span-2__yWwgY","span-3":"Loading_span-3__1yV3R","span-4":"Loading_span-4__3f_h8"}}},[[166,1,2]]]);
//# sourceMappingURL=main.8032db51.chunk.js.map