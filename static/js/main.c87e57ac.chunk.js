(this.webpackJsonpTodolist_V2=this.webpackJsonpTodolist_V2||[]).push([[0],{105:function(e,t,n){},113:function(e,t,n){e.exports={add_item_form_main_block:"AddItemForm_add_item_form_main_block__gk74B"}},115:function(e,t,n){e.exports={is_done:"Task_is_done__3JDJx"}},117:function(e,t,n){e.exports={buttons_block:"Buttons_buttons_block__av5UJ"}},137:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),i=n.n(c),s=(n(137),n(21)),o=n(16),l=n(5),d=n(11),u={},b=function(e,t){return{type:"SET-TASKS",tasks:e,todolistId:t}},j=function(e,t){return{type:"REMOVE-TASK",taskId:e,todolistId:t}},f=function(e,t,n){return{type:"UPDATE-TASK",todolistId:t,taskId:e,model:n}},p=function(e,t,n){return{type:"CHANGE_TASK_ENTITY_STATUS",taskId:t,todolistId:e,entityStatus:n}},O=[],h=function(e){return{type:"REMOVE-TODOLIST",id:e}},m=function(e,t){return{type:"ADD-TODOLIST",title:e,todolistId:t}},_=function(e,t){return{type:"CHANGE-TODOLIST-TITLE",id:e,title:t}},x=function(e,t){return{type:"CHANGE-TODOLIST-FILTER",id:e,filter:t}},v=function(e,t){return{type:"CHANGE_TODOLIST_ENTITY_STATUS",id:e,entityStatus:t}},g=n(107),k=n(60),T="SET_USER_DATA",S="SET_FETCHING",y={id:null,login:null,email:null,isFetching:!1,isAuth:!1},I=function(e){return{type:T,payload:e}},w=function(e){return{type:S,isFetching:e}},C="APP_SET_STATUS",E="SET_APP_ERROR",A={status:"succeeded",error:null},N=function(e){return{type:C,status:e}},L=function(e){return{type:E,error:e}},D=n(120),R=Object(g.a)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":var n=Object(d.a)({},e);return t.todolists.forEach((function(e){n[e.id]=[]})),n;case"ADD-TODOLIST":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.todolistId,[]));case"REMOVE-TODOLIST":var a=Object(d.a)({},e);return delete a[t.id],a;case"SET-TASKS":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.todolistId,t.tasks));case"REMOVE-TASK":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.todolistId,e[t.todolistId].filter((function(e){return e.id!==t.taskId}))));case"ADD-TASK":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.task.todoListId,[t.task].concat(Object(o.a)(e[t.task.todoListId]))));case"UPDATE-TASK":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.todolistId,e[t.todolistId].map((function(e){return e.id===t.taskId?Object(d.a)(Object(d.a)({},e),t.model):e}))));case"CHANGE_TASK_ENTITY_STATUS":return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},t.todolistId,e[t.todolistId].map((function(e){return e.id===t.taskId?Object(d.a)(Object(d.a)({},e),{},{entityTaskStatus:t.entityStatus}):e}))));default:return e}},todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{entityStatus:"idle",filter:"All"})}));case"REMOVE-TODOLIST":return e.filter((function(e){return e.id!==t.id}));case"ADD-TODOLIST":return[{id:t.todolistId,title:t.title,entityStatus:"idle",filter:"All",addedDate:"",order:0}].concat(Object(o.a)(e));case"CHANGE-TODOLIST-TITLE":return e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{title:t.title}):e}));case"CHANGE-TODOLIST-FILTER":return e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{filter:t.filter}):e}));case"CHANGE_TODOLIST_ENTITY_STATUS":return e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{entityStatus:t.entityStatus}):e}));default:return e}},AuthorizationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),t.payload);case S:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});default:return e}},AppReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(d.a)(Object(d.a)({},e),{},{status:t.status});case E:return Object(d.a)(Object(d.a)({},e),{},{error:t.error});default:return e}}}),F=Object(D.a)({reducer:R,middleware:function(e){return e().prepend(k.a)}}),P=s.c;window.store=F;var H,M,U=n(18),z=n.n(U),K=n(28),B=n(108),G=n.n(B).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"46d03c13-5122-4b12-95a1-e807d8a6bece"}}),V=function(){return G.get("todo-lists")},Y=function(e){return G.post("todo-lists",{title:e})},J=function(e){return G.delete("todo-lists/".concat(e))},q=function(e,t){return G.put("todo-lists/".concat(e),{title:t})},X=function(e){return G.get("todo-lists/".concat(e,"/tasks"))},Z=function(e,t){return G.delete("todo-lists/".concat(e,"/tasks/").concat(t))},W=function(e,t){return G.post("todo-lists/".concat(e,"/tasks"),{title:t})},Q=function(e,t,n){return G.put("todo-lists/".concat(e,"/tasks/").concat(t),n)},$=function(){return G.get("auth/me").then((function(e){return e.data}))},ee=function(){return G.delete("auth/login/").then((function(e){return e.data}))},te=function(e,t,n,a){return G.post("auth/login/",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))};!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(H||(H={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.Hi=2]="Hi",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(M||(M={}));var ne=function(e,t){e.messages.length?t(L(e.messages[0])):t(L("Some error occurred")),t(N("failed"))},ae=function(e,t){t(L(e.message)),t(N("failed"))},re=n(32),ce=n.n(re),ie=n(118),se=n(15),oe=n(1);var le,de=(le=function(e){var t=Object(s.b)(),n=Object(ie.a)({initialValues:{email:"",password:"",rememberMe:!1,captcha:!0},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required",e.password?e.password.length<4&&(t.password="Invalid password"):t.password="Password is required",t},onSubmit:function(e){t(function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){var a,r,c,i,s,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(w(!0)),t.prev=1,t.next=4,te(e.email,e.password,e.rememberMe,e.captcha);case 4:return a=t.sent,t.next=7,$();case 7:r=t.sent,0===a.resultCode?(c=r.data,i=c.login,s=c.email,o=c.id,n(I({id:o,email:s,login:i,isAuth:!0}))):ne(a,n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),t.t0 instanceof Error&&ae(t.t0,n);case 14:return t.prev=14,n(w(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()}(e)),n.resetForm()}}),a=n.values.password,r=[["\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",a.toLowerCase()!==a],["\u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",a.toUpperCase()!==a],["\u0446\u0438\u0444\u0440\u0443",/\d/.test(a)],["5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",a.length>=4]];return Object(oe.jsx)("div",{className:ce.a.main_login,children:Object(oe.jsxs)("form",{className:ce.a.form_3,onSubmit:n.handleSubmit,children:[Object(oe.jsx)("h1",{style:{color:"white"},children:"Account login"}),Object(oe.jsxs)("p",{className:ce.a.clearfix,children:[Object(oe.jsx)("label",{htmlFor:"email",children:"Email"}),Object(oe.jsx)("input",Object(d.a)({type:"email",id:"email",placeholder:"email"},n.getFieldProps("email"))),Object(oe.jsx)("div",{className:ce.a.error_block,children:n.touched.email&&n.errors.email?Object(oe.jsx)("div",{style:{color:"red",fontSize:"1.2rem"},children:n.errors.email}):null})]}),Object(oe.jsxs)("p",{className:ce.a.clearfix,children:[Object(oe.jsx)("label",{htmlFor:"password",children:"Password"}),Object(oe.jsx)("input",Object(d.a)({type:"password",id:"password",placeholder:"password"},n.getFieldProps("password"))),Object(oe.jsx)("div",{className:ce.a.error_block,children:n.touched.password&&n.errors.password?Object(oe.jsx)("div",{style:{color:"red",fontSize:"1.2rem"},children:n.errors.password}):null}),n.values.password?Object(oe.jsxs)("div",{className:ce.a.text_helper,children:[Object(oe.jsx)("div",{className:ce.a.angle}),Object(oe.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c:"}),Object(oe.jsx)("div",{className:ce.a.text_helper_small_text,children:r.map((function(e){return Object(oe.jsx)(ue,{data:e},e)}))})]}):null]}),Object(oe.jsxs)("p",{className:ce.a.clearfix,children:[Object(oe.jsx)("input",Object(d.a)({style:{width:"50px",height:"50px"},type:"checkbox",id:"remember"},n.getFieldProps("rememberMe"))),Object(oe.jsx)("label",{htmlFor:"remember",className:ce.a.label_rememberMe_block,children:"Remember me"}),Object(oe.jsx)("button",{className:ce.a.button,type:"submit",name:"submit",value:"Submit",disabled:!(n.isValid&&n.dirty),children:"Submit"})]})]})})},function(e){return Object(s.c)((function(e){return e.AuthorizationReducer.isAuth}))?Object(oe.jsx)(se.a,{to:"/app"}):Object(oe.jsx)(le,Object(d.a)({},e))}),ue=function(e){var t=e.data,n=t[0],a=t[1];return Object(oe.jsx)("span",{style:{fontSize:"1rem"},children:Object(oe.jsxs)("div",{className:"validateChecklist",children:[Object(oe.jsx)("span",{children:n}),Object(oe.jsx)("div",{className:function(){var e=["invalidStyle"];return a&&e.push("validStyle"),e.join(" ")}()})]})})},be=n(87),je=n.n(be),fe=n(218),pe=n(216),Oe=function(e){var t=e.typeError,n=Object(s.c)((function(e){return e.AppReducer})).error,a=Object(s.b)(),r=function(e,t){"clickaway"!==t&&a(L(null))};return Object(oe.jsx)(fe.a,{open:null!==n,autoHideDuration:6e3,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(oe.jsxs)(he,{onClose:r,severity:t,sx:{width:"100%"},children:[n," \ud83d\ude20"]})})},he=r.a.forwardRef((function(e,t){return Object(oe.jsx)(pe.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))})),me=function(){return Object(oe.jsx)("div",{className:je.a.background_block_login_page,children:Object(oe.jsxs)("div",{className:je.a.block_login_page,children:[Object(oe.jsx)(de,{}),Object(oe.jsx)(Oe,{typeError:"error"})]})})},_e=(n(105),n(220)),xe=n(221),ve=n(225),ge=n(226),ke=function(){return Object(oe.jsx)(ve.a,{sx:{width:"100%"},children:Object(oe.jsx)(ge.a,{color:"secondary"})})},Te=n(224),Se=n(14),ye=n(113),Ie=n.n(ye),we=n(214),Ce=n(222),Ee=n(114),Ae=n.n(Ee),Ne=r.a.memo((function(e){var t=e.disabled,n=e.addItem,r=e.color,c=Object(a.useState)(""),i=Object(Se.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(null),d=Object(Se.a)(l,2),u=d[0],b=d[1],j=function(){""!==s.trim()?(n(s),o("")):b("Title is required")};return Object(oe.jsxs)("div",{className:Ie.a.add_item_form_main_block,children:[Object(oe.jsx)(we.a,{style:{margin:"10px",width:"100%"},disabled:t,variant:"outlined",error:!!u,value:s,color:r,onChange:function(e){o(e.currentTarget.value)},onKeyPress:function(e){null!==u&&b(null),"Enter"===e.key&&j()},label:"Title",helperText:u}),Object(oe.jsx)(Ce.a,{color:"inherit",size:"large",onClick:j,disabled:t,children:Object(oe.jsx)(Ae.a,{style:{width:"30px",height:"30px"},color:"inherit"})})]})})),Le=n(227),De=n(228),Re=n(223),Fe=function(e){var t=e.status,n=e.login,a=e.onClickHandler,r=e.addTodolist;return Object(oe.jsx)(Re.a,{position:"fixed",color:"secondary",style:{height:"100px"},children:Object(oe.jsxs)(Te.a,{children:[Object(oe.jsx)("div",{className:"AddItem",children:Object(oe.jsx)(Ne,{addItem:r,color:"info",disabled:"loading"===t&&!0})}),Object(oe.jsx)(Le.a,{variant:"h6",component:"div",sx:{flexGrow:1},className:"global_todo_title",children:"Todolist for your business"}),Object(oe.jsx)("h3",{className:"Login_name",children:n}),Object(oe.jsx)(De.a,{onClick:a,color:"error",variant:"contained",children:"LogOut"})]})})},Pe=n(77),He=n.n(Pe),Me=r.a.memo((function(e){var t=e.value,n=e.onChange,r=e.disabled,c=Object(a.useState)(!1),i=Object(Se.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(t),d=Object(Se.a)(l,2),u=d[0],b=d[1],j=function(){o(!1),n(u)};return s?Object(oe.jsx)(we.a,{disabled:r,onKeyPress:function(e){"Enter"===e.key&&j()},value:u,onChange:function(e){b(e.currentTarget.value)},autoFocus:!0,onBlur:j,variant:"standard"}):Object(oe.jsx)("span",{onDoubleClick:function(){o(!0),b(t)},children:t})})),Ue=n(213),ze=n(115),Ke=n.n(ze),Be=n(217),Ge=n(73),Ve=r.a.memo((function(e){var t=Object(a.useCallback)((function(){return e.removeTask(e.task.id,e.todolistId)}),[e.task.id,e.todolistId]),n=Object(a.useCallback)((function(t){var n=t.currentTarget.checked;e.changeTaskStatus(e.task.id,n?H.Completed:H.New,e.todolistId)}),[e.task.id,e.todolistId]),r=Object(a.useCallback)((function(t){e.changeTaskTitle(e.task.id,t,e.todolistId)}),[e.task.id,e.todolistId]),c="loading"===e.task.entityTaskStatus;return Object(oe.jsx)(Ge.a,{cascade:!0,children:Object(oe.jsxs)("div",{className:e.task.status===H.Completed?Ke.a.is_done:"",children:[Object(oe.jsx)(Be.a,{checked:e.task.status===H.Completed,color:"secondary",onChange:n}),Object(oe.jsx)(Me,{disabled:c,value:e.task.title,onChange:r}),Object(oe.jsx)(Ce.a,{onClick:t,disabled:c,children:Object(oe.jsx)(Ue.a,{})})]})})})),Ye=n(117),Je=n.n(Ye),qe=function(e){var t=e.title,n=e.onClickHandler,a=e.activeButton;return Object(oe.jsx)(De.a,{color:"secondary",variant:a===t?"contained":"outlined",onClick:n,children:t})},Xe=function(e){var t=e.filterBS,n=e.todolistId,r=Object(s.b)(),c=Object(a.useCallback)((function(){return r(x(n,"All"))}),[r,n]),i=Object(a.useCallback)((function(){return r(x(n,"Active"))}),[r,n]),o=Object(a.useCallback)((function(){return r(x(n,"Completed"))}),[r,n]);return Object(oe.jsxs)("div",{className:Je.a.buttons_block,children:[Object(oe.jsx)(qe,{activeButton:t,onClickHandler:c,title:"All"}),Object(oe.jsx)(qe,{activeButton:t,onClickHandler:i,title:"Active"}),Object(oe.jsx)(qe,{activeButton:t,onClickHandler:o,title:"Completed"})]})},Ze=function(e,t,n){return function(){var a=Object(K.a)(z.a.mark((function a(r,c){var i,s,o,l,u;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r(p(e,t,"loading")),r(N("loading")),i=c().tasks,s=i[e],!(o=s.find((function(e){return e.id===t})))){a.next=17;break}return l=Object(d.a)({title:o.title,startDate:o.startDate,priority:o.priority,description:o.description,deadline:o.deadline,status:o.status},n),a.prev=7,a.next=10,Q(e,t,l);case 10:0===(u=a.sent).data.resultCode?(r(f(t,e,u.data.data.item)),r(N("succeeded")),r(p(e,t,"succeeded"))):(ne(u.data,r),r(p(e,t,"failed"))),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(7),a.t0 instanceof Error&&(ae(a.t0,r),r(p(e,t,"failed")));case 17:case"end":return a.stop()}}),a,null,[[7,14]])})));return function(e,t){return a.apply(this,arguments)}}()},We=Object(a.memo)((function(e){var t=Object(s.b)();Object(a.useEffect)((function(){var n;t((n=e.id,function(){var e=Object(K.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N("loading")),e.prev=1,e.next=4,X(n);case 4:null===(a=e.sent).data.error&&(r=a.data.items.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{entityTaskStatus:"idle"})})),t(b(r,n)),t(N("succeeded"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&ae(e.t0,t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);var n=e.tasks;"Active"===e.filter&&(n=e.tasks.filter((function(e){return e.status===H.New}))),"Completed"===e.filter&&(n=e.tasks.filter((function(e){return e.status===H.Completed})));var r=Object(a.useCallback)((function(){var n;t((n=e.id,function(){var e=Object(K.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(n,"loading")),t(N("loading")),e.prev=2,e.next=5,J(n);case 5:0===(a=e.sent).data.resultCode?(t(h(n)),t(N("succeeded")),t(v(n,"succeeded"))):(ne(a.data,t),t(v(n,"failed"))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0 instanceof Error&&(ae(e.t0,t),t(v(n,"failed")));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[t,e.id]),c=Object(a.useCallback)((function(n){t(function(e,t){return function(){var n=Object(K.a)(z.a.mark((function n(a){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(N("loading")),a(v(e,"loading")),n.prev=2,n.next=5,q(e,t);case 5:0===(r=n.sent).data.resultCode?(a(_(e,t)),a(N("succeeded")),a(v(e,"succeeded"))):(ne(r.data,a),a(v(e,"failed"))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),n.t0 instanceof Error&&(ae(n.t0,a),a(v(e,"failed")));case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}(e.id,n))}),[t,e.id]),i=Object(a.useCallback)((function(e,n){t(function(e,t){return function(){var n=Object(K.a)(z.a.mark((function n(a){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(N("loading")),a(p(e,t,"loading")),n.prev=2,n.next=5,Z(e,t);case 5:0===(r=n.sent).data.resultCode?(a(j(t,e)),a(N("succeeded")),a(p(e,t,"succeeded"))):(ne(r.data,a),a(p(e,t,"failed"))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),n.t0 instanceof Error&&(ae(n.t0,a),a(p(e,t,"failed")));case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,e))}),[t]),o=Object(a.useCallback)((function(n){t(function(e,t){return function(){var n=Object(K.a)(z.a.mark((function n(a){var r,c;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(v(e,"loading")),a(N("loading")),n.prev=2,n.next=5,W(e,t);case 5:0===(r=n.sent).data.resultCode?(c=Object(d.a)(Object(d.a)({},r.data.data.item),{},{entityTaskStatus:"idle"}),a({type:"ADD-TASK",task:c}),a(N("succeeded")),a(v(e,"succeeded"))):(ne(r.data,a),a(v(e,"failed"))),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),n.t0 instanceof Error&&(ae(n.t0,a),a(v(e,"failed")));case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}(e.id,n))}),[t,e.id]),l=Object(a.useCallback)((function(e,n,a){t(Ze(a,e,{status:n}))}),[t]),u=Object(a.useCallback)((function(e,n,a){t(Ze(a,e,{title:n}))}),[t]);return Object(oe.jsxs)("div",{className:He.a.main_paper_div,children:[Object(oe.jsxs)("h3",{className:He.a.block_name_and_delete,children:[Object(oe.jsx)(Me,{disabled:"loading"===e.entityStatus,value:e.title,onChange:c}),Object(oe.jsx)(Ce.a,{size:"large",onClick:r,disabled:"loading"===e.entityStatus,children:Object(oe.jsx)(Ue.a,{})})]}),Object(oe.jsx)(Ne,{addItem:o,color:"secondary",disabled:"loading"===e.entityStatus}),Object(oe.jsx)("div",{className:He.a.tasks_block,children:n.map((function(t){return Object(oe.jsx)(Ve,{task:t,todolistId:e.id,removeTask:i,changeTaskTitle:u,changeTaskStatus:l},t.id)}))}),Object(oe.jsx)(Xe,{todolistId:e.id,filterBS:e.filter})]})})),Qe=function(e){return function(t){return Object(s.c)((function(e){return e.AuthorizationReducer.isAuth}))?Object(oe.jsx)(e,Object(d.a)({},t)):Object(oe.jsx)(se.a,{to:"/login"})}}((function(){var e=P((function(e){return e.todolists})),t=P((function(e){return e.tasks})),n=P((function(e){return e.AuthorizationReducer})).login,r=P((function(e){return e.AppReducer})).status,c=Object(s.b)();Object(a.useEffect)((function(){c(function(){var e=Object(K.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N("loading")),e.prev=1,e.next=4,V();case 4:200===(n=e.sent).status&&(t({type:"SET-TODOLISTS",todolists:n.data}),t(N("succeeded"))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&ae(e.t0,t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var i=Object(a.useCallback)((function(e){c(function(e){return function(){var t=Object(K.a)(z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N("loading")),t.prev=1,t.next=4,Y(e);case 4:0===(a=t.sent).data.resultCode?(n(m(e,a.data.data.item.id)),n(N("succeeded"))):ne(a.data,n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0 instanceof Error&&ae(t.t0,n);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[c]);return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Fe,{login:n,addTodolist:i,onClickHandler:function(){return c(function(){var e=Object(K.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:0===e.sent.resultCode&&t(I({id:null,email:null,login:null,isAuth:!1}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},status:r}),Object(oe.jsxs)("div",{className:"App",children:[Object(oe.jsx)("div",{className:"progress_bar_padding",children:"loading"===r&&Object(oe.jsx)(ke,{})}),Object(oe.jsx)(Oe,{typeError:"error"}),Object(oe.jsx)("div",{className:"MainContainer",children:Object(oe.jsx)(_e.a,{container:!0,style:{width:"100%",padding:"20px"},children:Object(oe.jsx)(_e.a,{container:!0,spacing:7,children:e.map((function(e){var n=t[e.id];return Object(oe.jsx)(_e.a,{item:!0,children:Object(oe.jsx)(xe.a,{elevation:3,style:{padding:"20px",borderRadius:"10px",backgroundColor:"#ffffffa6"},children:Object(oe.jsx)(Ge.a,{cascade:!0,children:Object(oe.jsx)(We,{id:e.id,title:e.title,tasks:n,filter:e.filter,entityStatus:e.entityStatus})})})},e.id)}))})})})]})]})})),$e=n(91),et=n.n($e),tt=function(){return Object(oe.jsx)("div",{className:et.a.main_loading,children:Object(oe.jsxs)("div",{className:et.a.loader,children:[Object(oe.jsx)("span",{}),Object(oe.jsx)("span",{}),Object(oe.jsx)("span",{}),Object(oe.jsx)("span",{})]})})},nt=function(){var e=P((function(e){return e.AuthorizationReducer})).isFetching,t=Object(s.b)();return Object(a.useEffect)((function(){t(function(){var e=Object(K.a)(z.a.mark((function e(t){var n,a,r,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0)),e.prev=1,e.next=4,$();case 4:0===(n=e.sent).resultCode&&(a=n.data,r=a.login,c=a.email,i=a.id,t(I({id:i,email:c,login:r,isAuth:!0}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error&&ae(e.t0,t);case 11:return e.prev=11,t(w(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())}),[]),e?Object(oe.jsx)(tt,{}):Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(se.d,{children:[Object(oe.jsx)(se.b,{path:"/",element:Object(oe.jsx)(se.a,{to:"/app"})}),Object(oe.jsx)(se.b,{path:"*",element:Object(oe.jsx)(se.a,{to:"/404"})}),Object(oe.jsx)(se.b,{path:"/login",element:Object(oe.jsx)(me,{})}),Object(oe.jsx)(se.b,{path:"/app",element:Object(oe.jsx)(Qe,{})}),Object(oe.jsx)(se.b,{path:"/404",element:Object(oe.jsx)("h1",{children:"404 Page not found"})})]})})},at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},rt=n(65);i.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(rt.a,{children:Object(oe.jsx)(s.a,{store:F,children:Object(oe.jsx)(nt,{})})})}),document.getElementById("root")),at()},32:function(e,t,n){e.exports={form_3:"SignIn_form_3__2SSkU",button:"SignIn_button__3DwEz",label_rememberMe_block:"SignIn_label_rememberMe_block__lLv1A",clearfix:"SignIn_clearfix__2yBzH",register:"SignIn_register__XS3YG",text_helper:"SignIn_text_helper__wRuGl",angle:"SignIn_angle__1tSts",text_helper_small_text:"SignIn_text_helper_small_text__31epX",error_block:"SignIn_error_block__3QK1B",main_login:"SignIn_main_login__23Wdz"}},77:function(e,t,n){e.exports={main_paper_div:"Todolist_main_paper_div__1EygI",block_name_and_delete:"Todolist_block_name_and_delete__a3zMX",add_item_form:"Todolist_add_item_form__kUhT1",tasks_block:"Todolist_tasks_block__2US_o"}},87:function(e,t,n){e.exports={background_block_login_page:"LoginPage_background_block_login_page__39MEE",block_login_page:"LoginPage_block_login_page__1-jxa"}},91:function(e,t,n){e.exports={main_loading:"Loading_main_loading__erV71",loader:"Loading_loader__1A0mq","span-1":"Loading_span-1__3G6uj","span-2":"Loading_span-2__yWwgY","span-3":"Loading_span-3__1yV3R","span-4":"Loading_span-4__3f_h8"}}},[[166,1,2]]]);
//# sourceMappingURL=main.c87e57ac.chunk.js.map