(this.webpackJsonpTodolist_V2=this.webpackJsonpTodolist_V2||[]).push([[0],{100:function(t,e,n){t.exports={main_block_login_page:"LoginPage_main_block_login_page__23m4_"}},118:function(t,e,n){},119:function(t,e,n){},147:function(t,e,n){"use strict";n.r(e);var a,r,i=n(0),c=n.n(i),s=n(30),o=n.n(s),l=(n(118),n(119),n(62)),u=n.n(l),d=n(13),j=n(190),b=n(199),f=n(95),O=n.n(f),p=n(2),m=c.a.memo((function(t){var e=Object(i.useState)(""),n=Object(d.a)(e,2),a=n[0],r=n[1],c=Object(i.useState)(null),s=Object(d.a)(c,2),o=s[0],l=s[1],u=function(){""!==a.trim()?(t.addItem(a),r("")):l("Title is required")};return Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)(j.a,{variant:"outlined",error:!!o,value:a,color:"info",onChange:function(t){r(t.currentTarget.value)},onKeyPress:function(t){null!==o&&l(null),13===t.charCode&&u()},label:"Title",helperText:o,inputProps:{maxLength:20}}),Object(p.jsx)(b.a,{color:"inherit",size:"large",onClick:u,children:Object(p.jsx)(O.a,{style:{width:"30px",height:"30px"},color:"inherit"})})]})})),h=c.a.memo((function(t){var e=Object(i.useState)(!1),n=Object(d.a)(e,2),a=n[0],r=n[1],c=Object(i.useState)(t.value),s=Object(d.a)(c,2),o=s[0],l=s[1];return a?Object(p.jsx)(j.a,{inputProps:{maxLength:20},value:o,onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.onChange(o)},variant:"standard"}):Object(p.jsx)("span",{onDoubleClick:function(){r(!0),l(t.value)},children:t.value})})),x=n(188),v=n(96),_=n.n(v),k=n(192),g=n(97),T=n.n(g).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"46d03c13-5122-4b12-95a1-e807d8a6bece"}}),S=function(){return T.get("todo-lists")},I=function(t){return T.post("todo-lists",{title:t})},w=function(t){return T.delete("todo-lists/".concat(t))},C=function(t,e){return T.put("todo-lists/".concat(t),{title:e})},y=function(t){return T.get("todo-lists/".concat(t,"/tasks"))},A=function(t,e){return T.delete("todo-lists/".concat(t,"/tasks/").concat(e))},D=function(t,e){return T.post("todo-lists/".concat(t,"/tasks"),{title:e})},E=function(t,e,n){return T.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},L=function(){return T.get("auth/me").then((function(t){return t.data}))},N=function(){return T.delete("auth/login/").then((function(t){return t.data}))},F=function(t,e,n,a){return T.post("auth/login/",{email:t,password:e,rememberMe:n,captcha:a}).then((function(t){return t.data}))};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(r||(r={}));var M=c.a.memo((function(t){var e=Object(i.useCallback)((function(){return t.removeTask(t.task.id,t.todolistId)}),[t.task.id,t.todolistId]),n=Object(i.useCallback)((function(e){var n=e.currentTarget.checked;t.changeTaskStatus(t.task.id,n?a.Completed:a.New,t.todolistId)}),[t.task.id,t.todolistId]),r=Object(i.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.task.id,t.todolistId]);return Object(p.jsxs)("div",{className:t.task.status===a.Completed?_.a.is_done:"",children:[Object(p.jsx)(k.a,{checked:t.task.status===a.Completed,color:"secondary",onChange:n}),Object(p.jsx)(h,{value:t.task.title,onChange:r}),Object(p.jsx)(b.a,{onClick:e,children:Object(p.jsx)(x.a,{})})]},t.task.id)})),P=n(23),R=n(200),H=function(t){var e=t.title,n=t.onClickHandler,a=t.activeButton;return Object(p.jsx)(R.a,{color:"secondary",variant:a===e?"contained":"outlined",onClick:n,children:e})},B=n(15),K=n(14),U=[],V=function(t){return{type:"REMOVE-TODOLIST",id:t}},z=function(t,e){return{type:"ADD-TODOLIST",title:t,todolistId:e}},G=function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}},J=function(t,e){return{type:"CHANGE-TODOLIST-FILTER",id:t,filter:e}},q=function(t){var e=t.filterBS,n=t.todolistId,a=Object(P.b)(),r=Object(i.useCallback)((function(){return a(J(n,"All"))}),[a,n]),c=Object(i.useCallback)((function(){return a(J(n,"Active"))}),[a,n]),s=Object(i.useCallback)((function(){return a(J(n,"Completed"))}),[a,n]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(H,{activeButton:e,onClickHandler:r,title:"All"}),Object(p.jsx)(H,{activeButton:e,onClickHandler:c,title:"Active"}),Object(p.jsx)(H,{activeButton:e,onClickHandler:s,title:"Completed"})]})},X=n(17),Z=n.n(X),Y=n(24),$=n(4),Q={},W=function(t,e){return{type:"SET-TASKS",tasks:t,todolistId:e}},tt=function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}},et=function(t,e,n){return function(a,r){var i=r().tasks[t].find((function(t){return t.id===e}));if(i){var c=Object(K.a)({title:i.title,startDate:i.startDate,priority:i.priority,description:i.description,deadline:i.deadline,status:i.status},n);E(t,e,c).then((function(n){a(function(t,e,n){return{type:"UPDATE-TASK",todolistId:e,taskId:t,model:n}}(e,t,n.data.data.item))}))}}},nt=Object(i.memo)((function(t){var e=Object(P.b)();Object(i.useEffect)((function(){var n;e((n=t.id,function(){var t=Object(Y.a)(Z.a.mark((function t(e){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n);case 2:a=t.sent,e(W(a.data.items,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);var n=t.tasks;"Active"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.New}))),"Completed"===t.filter&&(n=t.tasks.filter((function(t){return t.status===a.Completed})));var r=Object(i.useCallback)((function(){var n;e((n=t.id,function(){var t=Object(Y.a)(Z.a.mark((function t(e){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n);case 2:0===t.sent.data.resultCode&&e(V(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[e,t.id]),c=Object(i.useCallback)((function(n){e(function(t,e){return function(){var n=Object(Y.a)(Z.a.mark((function n(a){return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(t,e);case 2:0===n.sent.data.resultCode&&a(G(t,e));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t.id,n))}),[e,t.id]),s=Object(i.useCallback)((function(t,n){e(function(t,e){return function(){var n=Object(Y.a)(Z.a.mark((function n(a){return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(t,e);case 2:0===n.sent.data.resultCode&&a(tt(e,t));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(n,t))}),[e]),o=Object(i.useCallback)((function(n){e(function(t,e){return function(){var n=Object(Y.a)(Z.a.mark((function n(a){var r;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(t,e);case 2:0===(r=n.sent).data.resultCode&&a({type:"ADD-TASK",task:r.data.data.item});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}(t.id,n))}),[e,t.id]),l=Object(i.useCallback)((function(t,n,a){e(et(a,t,{status:n}))}),[e]),d=Object(i.useCallback)((function(t,n,a){e(et(a,t,{title:n}))}),[e]);return Object(p.jsxs)("div",{className:u.a.main_paper_div,children:[Object(p.jsxs)("h3",{className:u.a.block_name_and_delete,children:[Object(p.jsx)(h,{value:t.title,onChange:c}),Object(p.jsx)(b.a,{onClick:r,children:Object(p.jsx)(x.a,{})})]}),Object(p.jsx)("div",{className:u.a.add_item_form,children:Object(p.jsx)(m,{addItem:o})}),Object(p.jsx)("div",{children:n.map((function(e){return Object(p.jsx)(M,{task:e,todolistId:t.id,removeTask:s,changeTaskTitle:d,changeTaskStatus:l},e.id)}))}),Object(p.jsx)("div",{style:{paddingTop:"10px"},children:Object(p.jsx)(q,{todolistId:t.id,filterBS:t.filter})})]})})),at=n(196),rt=n(197),it=n(198),ct=n(194),st=n(195),ot="SET_USER_DATA",lt={id:null,login:null,email:null,isFetching:!1,isAuth:!1},ut=function(t){return{type:ot,payload:t}},dt=n(201),jt=n(25),bt=n.n(jt),ft=n(102),Ot=function(t){var e=Object(P.b)(),n=Object(ft.a)({initialValues:{email:"",password:"",rememberMe:!1,captcha:!0},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Field is required",(!t.password||t.password.length<4)&&(e.password="Password is required"),e},onSubmit:function(t){e(function(t){return function(){var e=Object(Y.a)(Z.a.mark((function e(n){var a,r,i,c,s,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t.email,t.password,t.rememberMe,t.captcha);case 2:return a=e.sent,e.next=5,L();case 5:r=e.sent,0===a.resultCode&&(console.log(a),i=r.data,c=i.login,s=i.email,o=i.id,n(ut({id:o,email:s,login:c,isAuth:!0})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t)),n.resetForm()}}),a=n.values.password,r=[["\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",a.toLowerCase()!==a],["\u0441\u0442\u0440\u043e\u0447\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443",a.toUpperCase()!==a],["\u0446\u0438\u0444\u0440\u0443",/\d/.test(a)],["5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",a.length>=4]];return Object(p.jsx)("div",{className:bt.a.main_login,children:Object(p.jsx)("div",{className:bt.a.modal_wrapper,children:Object(p.jsx)("div",{className:bt.a.modal_window,children:Object(p.jsxs)("form",{className:bt.a.form_3,onSubmit:n.handleSubmit,children:[Object(p.jsx)("h1",{style:{color:"white"},children:"Account login"}),Object(p.jsxs)("p",{className:bt.a.clearfix,children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsx)("input",Object(K.a)({type:"text",id:"email",placeholder:"email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email?Object(p.jsx)("div",{style:{color:"red",fontSize:"1.2rem"},children:n.errors.email}):null]}),Object(p.jsxs)("p",{className:bt.a.clearfix,children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",Object(K.a)({type:"password",id:"password",placeholder:"password"},n.getFieldProps("password"))),n.values.password?Object(p.jsxs)("div",{className:bt.a.text_helper,children:[Object(p.jsx)("div",{className:bt.a.angle}),Object(p.jsx)("span",{children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c:"}),Object(p.jsx)("div",{className:bt.a.text_helper_small_text,children:r.map((function(t){return Object(p.jsx)(pt,{data:t},t)}))})]}):null]}),Object(p.jsxs)("p",{className:bt.a.clearfix,children:[Object(p.jsx)("input",Object(K.a)({style:{width:"50px",height:"50px"},type:"checkbox",id:"remember"},n.getFieldProps("rememberMe"))),Object(p.jsx)("label",{htmlFor:"remember",className:bt.a.label_rememberMe_block,children:"Remember me"}),Object(p.jsx)("button",{className:bt.a.button,type:"submit",name:"submit",value:"Submit",disabled:!(n.isValid&&n.dirty),children:"Submit"})]})]})})})})},pt=function(t){var e=t.data,n=e[0],a=e[1];return Object(p.jsx)("span",{style:{fontSize:"1rem"},children:Object(p.jsxs)("div",{className:"validateChecklist",children:[Object(p.jsx)("span",{children:n}),Object(p.jsx)("div",{className:function(){var t=["invalidStyle"];return a&&t.push("validStyle"),t.join(" ")}()})]})})},mt=n(100),ht=n.n(mt),xt=function(){return Object(p.jsx)("div",{className:ht.a.main_block_login_page,children:Object(p.jsx)(Ot,{})})};var vt=function(){var t=Object(P.c)((function(t){return t.todolists})),e=Object(P.c)((function(t){return t.tasks})),n=Object(P.c)((function(t){return t.AuthorizationReducer})),a=Object(P.b)();Object(i.useEffect)((function(){a(function(){var t=Object(Y.a)(Z.a.mark((function t(e){var n,a,r,i,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:0===(n=t.sent).resultCode&&(a=n.data,r=a.login,i=a.email,c=a.id,e(ut({id:c,email:i,login:r,isAuth:!0})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a(function(){var t=Object(Y.a)(Z.a.mark((function t(e){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:n=t.sent,e({type:"SET-TODOLISTS",todolists:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]);var r=Object(i.useCallback)((function(t){a(function(t){return function(){var e=Object(Y.a)(Z.a.mark((function e(n){var a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:0===(a=e.sent).data.resultCode&&n(z(t,a.data.data.item.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}),[a]);return n.isAuth?Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(at.a,{position:"static",color:"secondary",style:{height:"100px"},children:Object(p.jsxs)(rt.a,{children:[Object(p.jsx)("div",{className:"AddItem",children:Object(p.jsx)(m,{addItem:r})}),Object(p.jsx)(dt.a,{variant:"h6",component:"div",sx:{flexGrow:1},className:"global_todo_title",children:"Todolist for your business"}),Object(p.jsx)("h3",{className:"Login_name",children:n.login}),Object(p.jsx)(R.a,{onClick:function(){return a(function(){var t=Object(Y.a)(Z.a.mark((function t(e){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:0===t.sent.resultCode&&e(ut({id:null,email:null,login:null,isAuth:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},color:"error",variant:"contained",children:"LogOut"})]})}),Object(p.jsxs)(it.a,{fixed:!0,children:[Object(p.jsx)(ct.a,{container:!0,style:{padding:"20px"}}),Object(p.jsx)(ct.a,{container:!0,spacing:7,children:t.map((function(t){var n=e[t.id];return Object(p.jsx)(ct.a,{item:!0,children:Object(p.jsx)(st.a,{elevation:3,style:{padding:"20px",borderRadius:"10px",backgroundColor:"#ffffffa6"},children:Object(p.jsx)(nt,{id:t.id,title:t.title,tasks:n,filter:t.filter})})},t.id)}))})]})]}):Object(p.jsx)(xt,{})},_t=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))},kt=n(64),gt=n(101),Tt=Object(kt.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":var n=Object(K.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"ADD-TODOLIST":return Object(K.a)(Object(K.a)({},t),{},Object($.a)({},e.todolistId,[]));case"REMOVE-TODOLIST":var a=Object(K.a)({},t);return delete a[e.id],a;case"SET-TASKS":return Object(K.a)(Object(K.a)({},t),{},Object($.a)({},e.todolistId,e.tasks));case"REMOVE-TASK":return Object(K.a)(Object(K.a)({},t),{},Object($.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(K.a)(Object(K.a)({},t),{},Object($.a)({},e.task.todoListId,[e.task].concat(Object(B.a)(t[e.task.todoListId]))));case"UPDATE-TASK":return Object(K.a)(Object(K.a)({},t),{},Object($.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(K.a)(Object(K.a)({},t),e.model):t}))));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(K.a)(Object(K.a)({},t),{},{filter:"All"})}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.id}));case"ADD-TODOLIST":return[{id:e.todolistId,title:e.title,filter:"All",addedDate:"",order:0}].concat(Object(B.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.id?Object(K.a)(Object(K.a)({},t),{},{title:e.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.id?Object(K.a)(Object(K.a)({},t),{},{filter:e.filter}):t}));default:return t}},AuthorizationReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ot:return Object(K.a)(Object(K.a)({},t),e.payload);default:return t}}}),St=Object(kt.c)(Tt,Object(kt.a)(gt.a));window.store=St,o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(P.a,{store:St,children:Object(p.jsx)(vt,{})})}),document.getElementById("root")),_t()},25:function(t,e,n){t.exports={form_3:"SignIn_form_3__2SSkU",button:"SignIn_button__3DwEz",label_rememberMe_block:"SignIn_label_rememberMe_block__lLv1A",clearfix:"SignIn_clearfix__2yBzH",register:"SignIn_register__XS3YG",text_helper:"SignIn_text_helper__wRuGl",angle:"SignIn_angle__1tSts",text_helper_small_text:"SignIn_text_helper_small_text__31epX"}},62:function(t,e,n){t.exports={main_paper_div:"Todolist_main_paper_div__1EygI",block_name_and_delete:"Todolist_block_name_and_delete__a3zMX",add_item_form:"Todolist_add_item_form__kUhT1"}},96:function(t,e,n){t.exports={is_done:"Task_is_done__3JDJx"}}},[[147,1,2]]]);
//# sourceMappingURL=main.e800d37a.chunk.js.map